(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{303:function(e,t,a){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3hRaE",profileInfoContainer:"ProfileInfo_profileInfoContainer__ckiB9",userAvatarContainer:"ProfileInfo_userAvatarContainer__3Gvs5",inputFileWrapper:"ProfileInfo_inputFileWrapper__1ZWvP",inputFile:"ProfileInfo_inputFile__30AYA",categoryName:"ProfileInfo_categoryName__wvcC4",userAvatar:"ProfileInfo_userAvatar__1Lg6K",infoContainer:"ProfileInfo_infoContainer__2WBTo",statusContainer:"ProfileInfo_statusContainer__1SlT6",editMode:"ProfileInfo_editMode__1m-f5",contact:"ProfileInfo_contact__2uZRz",contactsFormsContainer:"ProfileInfo_contactsFormsContainer__3tK3n",textareaWrapper:"ProfileInfo_textareaWrapper__2NAVj",saveButton:"ProfileInfo_saveButton__2bCN_",contactFormName:"ProfileInfo_contactFormName__2-Vc0",formSummaryError:"ProfileInfo_formSummaryError__oVWCD",checkboxWrapper:"ProfileInfo_checkboxWrapper__2qpu0",inputWrapper:"ProfileInfo_inputWrapper__2VeSa",input:"ProfileInfo_input__UDSRV",profScills:"ProfileInfo_profScills__2akBC",status:"ProfileInfo_status__1THLR",checkbox:"ProfileInfo_checkbox__2i-T5"}},304:function(e,t,a){e.exports={item:"Post_item__2GrpW",postWriterInformation:"Post_postWriterInformation__3_Kh1",writerName:"Post_writerName__35IB5"}},305:function(e,t,a){"use strict";a.r(t);var n=a(26),r=a(27),o=a(29),s=a(28),i=a(0),l=a.n(i),c=a(73),u=a(303),m=a.n(u),p=a(35),f=a.n(p),d=function(e){var t=Object(i.useState)(!1),a=Object(c.a)(t,2),n=a[0],r=a[1],o=Object(i.useState)(e.status),s=Object(c.a)(o,2),u=s[0],p=s[1];return Object(i.useEffect)((function(){p(e.status)}),[e.status]),l.a.createElement("div",{className:m.a.statusContainer},l.a.createElement("span",{className:e.editMode?m.a.input:m.a.status},"Status:"),!n&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){r(!0)}},e.status||"your statue could be here")),n&&l.a.createElement("div",null,l.a.createElement("input",{autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(u)},onChange:function(e){var t=e.currentTarget.value;p(t)},value:null!==u?u:"your status...",className:f.a.inputStyle})))},E=a(102),_=a.n(E),v=a(137),b=a(30),N=a(71),h=a(52),g=a.n(h),P=(a(150),a(42)),I=a.n(P),k=Object(v.a)({form:"profileData"})((function(e){var t=e.handleSubmit,a=e.profile,n=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("div",{className:m.a.inputWrapper},l.a.createElement("span",{className:m.a.input},"Full name:"),Object(b.c)("text","fullName","fullName",b.a,[N.a])),l.a.createElement("div",{className:m.a.checkbox},l.a.createElement("span",{className:m.a.status},"Looking for a job:"),l.a.createElement("div",{className:m.a.checkboxWrapper},Object(b.c)("checkbox","lookingForAJob","lookingForAJob",b.a,null,null,"looking"))),l.a.createElement("div",{className:m.a.textareaWrapper},l.a.createElement("span",{className:I()(m.a.input,m.a.profScills)},"Professional skills:"),Object(b.c)(null,"lookingForAJobDescription","lookingForAJobDescription",b.b,[N.a])),l.a.createElement("div",{className:m.a.textareaWrapper},l.a.createElement("span",{className:m.a.input},"About me:"),Object(b.c)(null,"aboutMe","aboutMe",b.b,[N.a])),l.a.createElement("div",null,l.a.createElement("span",{className:m.a.input},"Contacts:"),Object.keys(a.contacts).map((function(e){return l.a.createElement("div",{key:e,className:m.a.contactsFormsContainer},l.a.createElement("span",{className:m.a.contactFormName},e)," ",Object(b.c)("text","".concat(e),"contacts[".concat(e,"]"),b.a))}))),n&&l.a.createElement("div",{className:m.a.formSummaryError},n),l.a.createElement("div",null,l.a.createElement("button",{className:g.a.commonButton},"Save")))})),O=function(e){var t=e.profile;return l.a.createElement("div",null,l.a.createElement("div",{className:m.a.categoryName},l.a.createElement("span",{className:m.a.input},"Full name:"),t.fullName),l.a.createElement("div",{className:m.a.categoryName},l.a.createElement("span",{className:m.a.input},"About me:"),t.aboutMe||"there is no information about me"),l.a.createElement("div",{className:m.a.categoryName},l.a.createElement("span",{className:m.a.input},"Looking for a job:")," ",t.lookingForAJob?"yes":"no"),t.lookingForAJob&&l.a.createElement("div",{className:m.a.categoryName},l.a.createElement("span",{className:m.a.input},"Professional skills:")," ",t.lookingForAJobDescription),l.a.createElement("div",{className:m.a.categoryName},l.a.createElement("span",{className:m.a.input},"Contacts:"),Object.keys(t.contacts).map((function(e){return l.a.createElement(S,{key:e,contactName:e,contactValue:t.contacts[e]})}))))},S=function(e){var t=e.contactName,a=e.contactValue;return l.a.createElement("div",{className:m.a.contact},l.a.createElement("span",{className:m.a.input},t,":")," ",a)},j=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.meId,s=e.changeAvatar,u=e.saveProfile,p=e.editMode,f=e.setEditMode,E=Object(i.useState)(!1),v=Object(c.a)(E,2),b=v[0],N=v[1],h=function(e){N(!e)};return l.a.createElement("div",{className:m.a.profileInfoContainer},l.a.createElement("div",{className:m.a.userAvatarContainer,onMouseLeave:function(){return h(b)},onMouseEnter:function(){return h(b)}},l.a.createElement("img",{className:m.a.userAvatar,src:t.photos.large||_.a,alt:"\u0444\u043e\u0442\u043e"}),r===o?b&&l.a.createElement("div",{className:m.a.inputFileWrapper},l.a.createElement("input",{className:m.a.inputFile,type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})):null),l.a.createElement("div",{className:m.a.infoContainer},l.a.createElement(d,{status:a,updateStatus:n,editMode:p}),p?l.a.createElement(k,{onSubmit:function(e){u(e)},initialValues:t,profile:t,setEditMode:f}):l.a.createElement(O,{profile:t,isOwner:r,meId:o})))},y=a(103),A=a(304),C=a.n(A),M=function(e){return l.a.createElement("div",{className:C.a.item},l.a.createElement("img",{src:e.profile.photos.small?e.profile.photos.small:_.a,alt:""}),l.a.createElement("div",{className:C.a.postWriterInformation},l.a.createElement("div",{className:C.a.writerName},e.profile.fullName),l.a.createElement("div",null,e.message)))},F=a(62),W=a(39),x=Object(v.a)({form:"addPost"})((function(e){return l.a.createElement("form",{onSubmit:e.handleSubmit},l.a.createElement("div",null,l.a.createElement(F.a,{placeholder:"Write a post...",name:"post",component:b.b,validate:[N.a],className:g.a.textarea})),l.a.createElement("div",{className:g.a.buttonWrapper},l.a.createElement("button",{className:g.a.commonButton},"Add post")))})),w=l.a.memo((function(e){var t=e.addPost,a=e.posts,n=e.profile,r=a.map((function(e){return l.a.createElement(M,{message:e.message,likesCount:e.likesCount,key:e.id,profile:n})}));return l.a.createElement("div",null,l.a.createElement("h3",{className:g.a.myPostsName},"My posts"),l.a.createElement(x,{onSubmit:function(e,a){t(e.post),a(Object(W.a)("addPost"))}}),l.a.createElement("div",{className:g.a.posts},r))})),B=a(12),D=Object(B.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText,profile:e.profilePage.profile}}),(function(e){return{addPost:function(t){var a=Object(y.a)(t);e(a)}}}))(w),J=a(75),V=function(e){var t=e.profile,a=e.status,n=e.updateStatus,r=e.isOwner,o=e.meId,s=e.changeAvatar,i=e.saveProfile,c=e.editMode,u=e.setEditMode;return t?l.a.createElement("div",null,l.a.createElement(j,{profile:t,status:a,updateStatus:n,isOwner:r,meId:o,changeAvatar:s,saveProfile:i,editMode:c,setEditMode:u}),l.a.createElement(D,null)):l.a.createElement(J.a,null)},T=a(10),L=a(6),U=a(21),R=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"getProfile",value:function(){var e=this.props.match.params.userId;if(!(e=Number(e))&&!(e=this.props.meId))return this.props.history.push("/login");this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.getProfile()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.userId!==e.match.params.userId&&this.getProfile()}},{key:"render",value:function(){return l.a.createElement(V,Object.assign({},this.props,{isOwner:Number(this.props.match.params.userId),meId:this.props.meId,profile:this.props.profile,aboutMe:this.props.aboutMe,status:this.props.status,updateStatus:this.props.updateStatus,changeAvatar:this.props.changeAvatar,saveProfile:this.props.saveProfile,editMode:this.props.editMode,setEditMode:this.props.setEditMode}))}}]),a}(l.a.Component);t.default=Object(L.d)(Object(B.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,meId:e.auth.userId,isAuth:e.auth.isAuth,editMode:e.auth.editMode}}),{setUserProfile:y.g,getUserProfile:y.e,getStatus:y.d,updateStatus:y.h,changeAvatar:y.b,saveProfile:y.f,setEditMode:U.e}),T.g)(R)}}]);
//# sourceMappingURL=3.c88fdb70.chunk.js.map